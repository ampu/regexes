{"version":3,"sources":["constants/local-path.js","providers/match-provider.js","components/matcher-page/matcher-page.jsx","components/not-found-page/not-found-page.jsx","components/app/app.jsx","index.js"],"names":["LocalPath","INDEX","MATCHER","MATCH_ALL","matchProvider","constructor","this","_client","axios","create","timeout","engineValue","text","pattern","flagsValue","data","get","params","Engine","BROWSER_JS","title","value","matchAll","_","regexp","RegExp","it","matches","Array","from","e","error","NODE_JS","bind","PHP","disabled","Flag","IGNORE_CASE","SINGLE_LINE","MULTILINE","createToggle","Enumeration","toggledItem","previousItems","shouldExclude","includes","Object","values","filter","item","MatcherPage","engines","setEngines","React","useState","setText","setPattern","flags","setFlags","shouldShowResults","setShowResults","setMatches","setError","console","log","map","className","method","action","engine","type","name","checked","onChange","rows","evt","currentTarget","htmlFor","id","flag","onClick","preventDefault","join","promises","push","Promise","all","then","catch","finally","message","length","match","matchIndex","NotFoundPage","to","App","exact","path","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.893e971e.chunk.js","sourcesContent":["/** @enum */\nexport const LocalPath = {\n  INDEX: `/`,\n  MATCHER: `/`,\n  MATCH_ALL: `/match-all`\n};\n","import axios from 'axios';\n\nconst REQUEST_TIMEOUT = 5000;\n\nclass MatchProvider {\n  constructor() {\n    this._client = axios.create({\n      timeout: REQUEST_TIMEOUT,\n    });\n  }\n\n  /**\n   * @param {string} engineValue\n   * @param {string} text\n   * @param {string} pattern\n   * @param {string} flagsValue\n   * @return {Promise<{matches: string[], error: {message: string}}>}\n   */\n  async matchAll(engineValue, text, pattern, flagsValue) {\n    const {data} = await this._client.get(`http://localhost:3001/match-all`, {\n      params: {\n        engineValue,\n        text,\n        pattern,\n        flagsValue,\n      },\n    });\n    return data;\n  }\n}\n\nexport const matchProvider = new MatchProvider();\n","import React from 'react';\n\nimport {LocalPath} from 'constants/local-path';\nimport {matchProvider} from 'providers/match-provider';\n\nconst localMatchAll = (_, text, pattern, flagsValue) => {\n  try {\n    const regexp = new RegExp(pattern, flagsValue);\n    const it = text.matchAll(regexp);\n    return {matches: Array.from(it)};\n  } catch (e) {\n    return {error: e};\n  }\n};\n\nconst remoteMatchAll = matchProvider.matchAll.bind(matchProvider);\n\n/** @enum */\nconst Engine = {\n  BROWSER_JS: {\n    title: `JavaScript (browser)`,\n    value: `browser-js`,\n    matchAll: localMatchAll,\n  },\n  NODE_JS: {\n    title: `JavaScript (node.js)`,\n    value: `node-js`,\n    matchAll: remoteMatchAll,\n  },\n  PHP: {\n    title: `PHP`,\n    value: `php`,\n    disabled: true,\n  },\n};\n\n/** @enum */\nconst Flag = {\n  IGNORE_CASE: {\n    title: `Ignore Case`,\n    value: `i`,\n  },\n  SINGLE_LINE: {\n    title: `Single Line`,\n    value: `s`,\n  },\n  MULTILINE: {\n    title: `Multiline`,\n    value: `m`,\n  },\n};\n\nconst createToggle = (Enumeration, toggledItem) => {\n  return (previousItems) => {\n    const shouldExclude = previousItems.includes(toggledItem);\n\n    return Object.values(Enumeration).filter((item) => {\n      return shouldExclude\n        ? (previousItems.includes(item) && item !== toggledItem)\n        : (previousItems.includes(item) || item === toggledItem);\n    });\n  };\n};\n\nconst MatcherPage = () => {\n  const [engines, setEngines] = React.useState([Engine.NODE_JS]);\n  const [text, setText] = React.useState(``);\n  const [pattern, setPattern] = React.useState(``);\n  const [flags, setFlags] = React.useState([]);\n  const [shouldShowResults, setShowResults] = React.useState(false);\n  const [matches, setMatches] = React.useState([]);\n  const [error, setError] = React.useState();\n\n  const onEnginesChange = (toggledEngine) => {\n    setEngines(createToggle(Engine, toggledEngine));\n  };\n\n  const onFlagsChange = (toggledFlag) => {\n    setFlags(createToggle(Flag, toggledFlag));\n  };\n\n  const onSubmitClick = (evt) => {\n    evt.preventDefault();\n    setShowResults(false);\n    setError();\n    setMatches([]);\n\n    const flagsValue = `g` + flags.map((flag) => flag.value).join(``);\n    const promises = [];\n    for (const engine of engines) {\n      promises.push(engine.matchAll(engine.value, text, pattern, flagsValue));\n    }\n\n    Promise.all(promises)\n      .then(([data]) => {\n        setMatches(data.matches);\n        setError(data.error);\n      })\n      .catch((e) => {\n        setError(e);\n      })\n      .finally(() => {\n        setShowResults(true);\n      });\n  };\n\n  /* eslint-disable */\n  console.log(engines.map(e => e.value))\n\n  return <>\n    <main className=\"matcher-page\">\n      <h1>Regular Expression Pattern Matcher</h1>\n\n      <form method=\"post\" action={LocalPath.MATCH_ALL}>\n        <fieldset className=\"matcher-page__item\">\n          <legend className=\"matcher-page__item-title\">Engine</legend>\n          {Object.values(Engine).map((engine) => {\n            return (\n              <label key={engine.value} className=\"matcher-page__checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  name=\"engines\"\n                  value={engine.value}\n                  checked={engines.includes(engine)}\n                  onChange={() => onEnginesChange(engine)}\n                  disabled={engine.disabled}\n                />\n                {engine.title}\n              </label>\n            );\n          })}\n        </fieldset>\n\n        <div className=\"matcher-page__item\">\n          <label className=\"matcher-page__item-title\">Text</label>\n          <textarea\n            name=\"text\"\n            rows=\"3\"\n            value={text}\n            onChange={(evt) => setText(evt.currentTarget.value)}\n          />\n        </div>\n\n        <div className=\"matcher-page__item\">\n          <label htmlFor=\"matcher-pattern\" className=\"matcher-page__item-title\">Pattern (regular expression)</label>\n          <div className=\"matcher-page__pattern-inner\">\n            <input\n              id=\"matcher-pattern\"\n              type=\"text\"\n              name=\"pattern\"\n              value={pattern}\n              onChange={(evt) => setPattern(evt.currentTarget.value)}\n            />\n          </div>\n        </div>\n\n        <fieldset className=\"matcher-page__item\">\n          {Object.values(Flag).map((flag) => {\n            return (\n              <label key={flag.value} className=\"matcher-page__checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  name=\"flags\"\n                  value={flag.value}\n                  checked={flags.includes(flag)}\n                  onChange={() => onFlagsChange(flag)}\n                />\n                {flag.title} (/{flag.value})\n              </label>\n            );\n          })}\n        </fieldset>\n\n        <button type=\"submit\" onClick={onSubmitClick}>Match All</button>\n\n        {shouldShowResults && error && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">Error</span>\n            <span>{error.message}</span>\n          </div>\n        )}\n\n        {shouldShowResults && !error && matches.length === 0 && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">No matches found. Try to adjust your search...</span>\n          </div>\n        )}\n\n        {shouldShowResults && !error && matches.length > 0 && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">Matches</span>\n            <ol>\n              {matches.map((match, matchIndex) => (\n                <li key={matchIndex}>&ldquo;{match[0]}&ldquo;</li>\n              ))}\n            </ol>\n          </div>\n        )}\n      </form>\n    </main>\n  </>;\n};\n\nexport {MatcherPage};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst NotFoundPage = () => {\n  return <>\n    <main className=\"not-found-page\">\n      <h1>Страница не найдена</h1>\n      <Link className=\"page-link\" to={LocalPath.INDEX}>Вернуться на главную страницу</Link>\n    </main>\n  </>;\n};\n\nexport {NotFoundPage};\n","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport {MatcherPage} from '../matcher-page/matcher-page';\nimport {NotFoundPage} from '../not-found-page/not-found-page';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst App = () => {\n  return <>\n    <Switch>\n      <Route exact path={LocalPath.MATCHER}>\n        <MatcherPage/>\n      </Route>\n      <Route>\n        <NotFoundPage/>\n      </Route>\n    </Switch>\n  </>;\n};\n\nexport {App};\n","import React, {StrictMode} from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from 'react-router-dom';\n\nimport {App} from './components/app/app';\n\nimport './index.scss';\n\nReactDOM.render((\n  <StrictMode>\n    <Router>\n      <App/>\n    </Router>\n  </StrictMode>\n), document.querySelector(`#root`));\n\n"],"sourceRoot":""}