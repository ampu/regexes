{"version":3,"sources":["constants/local-path.js","providers/match-provider.js","components/matcher-page/matcher-page.jsx","helpers/match-helpers.js","components/not-found-page/not-found-page.jsx","components/app/app.jsx","index.js"],"names":["LocalPath","INDEX","MATCHER","MATCH_ALL","matchProvider","constructor","this","_client","axios","create","timeout","engineValues","text","pattern","flagsValue","data","get","params","Engine","BROWSER_JS","title","value","NODE_JS","PHP","disabled","Flag","IGNORE_CASE","SINGLE_LINE","MULTILINE","createToggle","Enumeration","toggledItem","previousItems","shouldExclude","includes","Object","values","filter","item","MatcherPage","engines","setEngines","React","useState","setText","setPattern","flags","setFlags","shouldShowResults","setShowResults","matches","setMatches","error","setError","className","method","action","map","engine","type","name","checked","onChange","rows","evt","currentTarget","htmlFor","id","flag","onClick","preventDefault","join","_","regexp","RegExp","it","matchAll","Array","from","e","localMatchAll","then","catch","finally","message","length","match","matchIndex","NotFoundPage","to","App","exact","path","ReactDOM","render","document","querySelector"],"mappings":"kLACO,MAAMA,EAAY,CACvBC,MAAQ,IACRC,QAAU,IACVC,UAAY,c,qBC2BP,MAAMC,EAAgB,IA3B7B,MACEC,cACEC,KAAKC,QAAUC,IAAMC,OAAO,CAC1BC,QALkB,MAgBR,eAACC,EAAcC,EAAMC,EAASC,GAC1C,MAAM,KAACC,SAAcT,KAAKC,QAAQS,IAAK,kCAAkC,CACvEC,OAAQ,CACNN,eACAC,OACAC,UACAC,gBAGJ,OAAOC,I,WCpBX,MAAMG,EAAS,CACbC,WAAY,CACVC,MAAQ,uBACRC,MAAQ,cAEVC,QAAS,CACPF,MAAQ,uBACRC,MAAQ,WAEVE,IAAK,CACHH,MAAQ,MACRC,MAAQ,MACRG,UAAU,IAKRC,EAAO,CACXC,YAAa,CACXN,MAAQ,cACRC,MAAQ,KAEVM,YAAa,CACXP,MAAQ,cACRC,MAAQ,KAEVO,UAAW,CACTR,MAAQ,YACRC,MAAQ,MAINQ,EAAe,CAACC,EAAaC,IACzBC,IACN,MAAMC,EAAgBD,EAAcE,SAASH,GAE7C,OAAOI,OAAOC,OAAON,GAAaO,QAAQC,GACjCL,EACFD,EAAcE,SAASI,IAASA,IAASP,EACzCC,EAAcE,SAASI,IAASA,IAASP,KAK9CQ,EAAc,KAClB,MAAOC,EAASC,GAAcC,IAAMC,SAAS,CAACzB,EAAOI,WAC9CV,EAAMgC,GAAWF,IAAMC,SAAU,KACjC9B,EAASgC,GAAcH,IAAMC,SAAU,KACvCG,EAAOC,GAAYL,IAAMC,SAAS,KAClCK,EAAmBC,GAAkBP,IAAMC,UAAS,IACpDO,EAASC,GAAcT,IAAMC,SAAS,KACtCS,EAAOC,GAAYX,IAAMC,WAyChC,OAAO,mCACL,uBAAMW,UAAU,eAAhB,UACE,oEAEA,uBAAMC,OAAO,OAAOC,OAAQxD,EAAUG,UAAtC,UACE,2BAAUmD,UAAU,qBAApB,UACE,wBAAQA,UAAU,2BAAlB,oBACCnB,OAAOC,OAAOlB,GAAQuC,KAAKC,GAExB,wBAA0BJ,UAAU,+BAApC,UACE,uBACEK,KAAK,WACLC,KAAK,UACLvC,MAAOqC,EAAOrC,MACdwC,QAASrB,EAAQN,SAASwB,GAC1BI,SAAU,KArDxBrB,EAAWZ,EAAaX,EAqDsBwC,KAChClC,SAAUkC,EAAOlC,WAElBkC,EAAOtC,QATEsC,EAAOrC,YAezB,sBAAKiC,UAAU,qBAAf,UACE,uBAAOA,UAAU,2BAAjB,kBACA,0BACEM,KAAK,OACLG,KAAK,IACL1C,MAAOT,EACPkD,SAAWE,GAAQpB,EAAQoB,EAAIC,cAAc5C,YAIjD,sBAAKiC,UAAU,qBAAf,UACE,uBAAOY,QAAQ,kBAAkBZ,UAAU,2BAA3C,0CACA,qBAAKA,UAAU,8BAAf,SACE,uBACEa,GAAG,kBACHR,KAAK,OACLC,KAAK,UACLvC,MAAOR,EACPiD,SAAWE,GAAQnB,EAAWmB,EAAIC,cAAc5C,cAKtD,0BAAUiC,UAAU,qBAApB,SACGnB,OAAOC,OAAOX,GAAMgC,KAAKW,GAEtB,wBAAwBd,UAAU,+BAAlC,UACE,uBACEK,KAAK,WACLC,KAAK,QACLvC,MAAO+C,EAAK/C,MACZwC,QAASf,EAAMZ,SAASkC,GACxBN,SAAU,KA1FxBf,EAASlB,EAAaJ,EA0FsB2C,OAE/BA,EAAKhD,MARR,MAQkBgD,EAAK/C,MARvB,MAAY+C,EAAK/C,WAcvB,wBAAQsC,KAAK,SAASU,QA/FLL,IACrBA,EAAIM,iBACJrB,GAAe,GACfI,IACAF,EAAW,IAEX,MAAMrC,EAAc,IAAKgC,EAAMW,KAAKW,GAASA,EAAK/C,QAAOkD,KAAM,IAE/D,GAAI/B,EAAQN,SAAShB,EAAOC,YAAa,CACvC,MAAMJ,EC7EiB,EAACyD,EAAG5D,EAAMC,EAASC,KAC9C,IACE,MAAM2D,EAAS,IAAIC,OAAO7D,EAASC,GAC7B6D,EAAK/D,EAAKgE,SAASH,GACzB,MAAO,CAACvB,QAAS2B,MAAMC,KAAKH,IAC5B,MAAOI,GACP,MAAO,CAAC3B,MAAO2B,KDuEAC,CAAc9D,EAAOC,WAAWE,MAAOT,EAAMC,EAASC,GACnEqC,EAAWpC,EAAKmC,SAChBG,EAAStC,EAAKqC,OACdH,GAAe,GAGjB,MAAMtC,EAAe6B,EAAQH,QAAQqB,GAAWA,IAAWxC,EAAOC,aAC9DR,GACFP,EAAcwE,SAASjE,EAAcC,EAAMC,EAASC,GACjDmE,MAAK,EAAElE,MACNoC,EAAWpC,EAAKmC,SAChBG,EAAStC,EAAKqC,UAEf8B,OAAOH,IACN1B,EAAS0B,MAEVI,SAAQ,KACPlC,GAAe,OAqEjB,uBAECD,GAAqBI,GACpB,sBAAKE,UAAU,qBAAf,UACE,sBAAMA,UAAU,2BAAhB,mBACA,+BAAOF,EAAMgC,aAIhBpC,IAAsBI,GAA4B,IAAnBF,EAAQmC,QACtC,qBAAK/B,UAAU,qBAAf,SACE,sBAAMA,UAAU,2BAAhB,8DAIHN,IAAsBI,GAASF,EAAQmC,OAAS,GAC/C,sBAAK/B,UAAU,qBAAf,UACE,sBAAMA,UAAU,2BAAhB,qBACA,6BACGJ,EAAQO,KAAI,CAAC6B,EAAOC,IACnB,wCAA6BD,EAAM,GAAnC,WAASC,mBElLnBC,EAAe,IACZ,mCACL,uBAAMlC,UAAU,iBAAhB,UACE,0IACA,cAAC,IAAD,CAAMA,UAAU,YAAYmC,GAAIzF,EAAUC,MAA1C,kLCDAyF,EAAM,IACH,mCACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAM5F,EAAUE,QAA7B,SACE,cAACqC,EAAD,MAEF,cAAC,IAAD,UACE,cAACiD,EAAD,W,MCPRK,IAASC,OACP,cAAC,aAAD,UACE,cAAC,IAAD,UACE,cAACJ,EAAD,QAGHK,SAASC,cAAe,Y","file":"static/js/main.4edb4f2e.chunk.js","sourcesContent":["/** @enum */\nexport const LocalPath = {\n  INDEX: `/`,\n  MATCHER: `/`,\n  MATCH_ALL: `/match-all`\n};\n","import axios from 'axios';\n\nconst REQUEST_TIMEOUT = 5000;\n\nclass MatchProvider {\n  constructor() {\n    this._client = axios.create({\n      timeout: REQUEST_TIMEOUT,\n    });\n  }\n\n  /**\n   * @param {string[]} engineValues\n   * @param {string} text\n   * @param {string} pattern\n   * @param {string} flagsValue\n   * @return {Promise<{matches: string[], error: {message: string}}>}\n   */\n  async matchAll(engineValues, text, pattern, flagsValue) {\n    const {data} = await this._client.get(`http://localhost:3001/match-all`, {\n      params: {\n        engineValues,\n        text,\n        pattern,\n        flagsValue,\n      },\n    });\n    return data;\n  }\n}\n\nexport const matchProvider = new MatchProvider();\n","import React from 'react';\n\nimport {LocalPath} from 'constants/local-path';\nimport {localMatchAll} from 'helpers/match-helpers';\nimport {matchProvider} from 'providers/match-provider';\n\n/** @enum */\nconst Engine = {\n  BROWSER_JS: {\n    title: `JavaScript (browser)`,\n    value: `browser-js`,\n  },\n  NODE_JS: {\n    title: `JavaScript (node.js)`,\n    value: `node-js`,\n  },\n  PHP: {\n    title: `PHP`,\n    value: `php`,\n    disabled: true,\n  },\n};\n\n/** @enum */\nconst Flag = {\n  IGNORE_CASE: {\n    title: `Ignore Case`,\n    value: `i`,\n  },\n  SINGLE_LINE: {\n    title: `Single Line`,\n    value: `s`,\n  },\n  MULTILINE: {\n    title: `Multiline`,\n    value: `m`,\n  },\n};\n\nconst createToggle = (Enumeration, toggledItem) => {\n  return (previousItems) => {\n    const shouldExclude = previousItems.includes(toggledItem);\n\n    return Object.values(Enumeration).filter((item) => {\n      return shouldExclude\n        ? (previousItems.includes(item) && item !== toggledItem)\n        : (previousItems.includes(item) || item === toggledItem);\n    });\n  };\n};\n\nconst MatcherPage = () => {\n  const [engines, setEngines] = React.useState([Engine.NODE_JS]);\n  const [text, setText] = React.useState(``);\n  const [pattern, setPattern] = React.useState(``);\n  const [flags, setFlags] = React.useState([]);\n  const [shouldShowResults, setShowResults] = React.useState(false);\n  const [matches, setMatches] = React.useState([]);\n  const [error, setError] = React.useState();\n\n  const onEnginesChange = (toggledEngine) => {\n    setEngines(createToggle(Engine, toggledEngine));\n  };\n\n  const onFlagsChange = (toggledFlag) => {\n    setFlags(createToggle(Flag, toggledFlag));\n  };\n\n  const onSubmitClick = (evt) => {\n    evt.preventDefault();\n    setShowResults(false);\n    setError();\n    setMatches([]);\n\n    const flagsValue = `g` + flags.map((flag) => flag.value).join(``);\n\n    if (engines.includes(Engine.BROWSER_JS)) {\n      const data = localMatchAll(Engine.BROWSER_JS.value, text, pattern, flagsValue);\n      setMatches(data.matches);\n      setError(data.error);\n      setShowResults(true);\n    }\n\n    const engineValues = engines.filter((engine) => engine !== Engine.BROWSER_JS);\n    if (engineValues) {\n      matchProvider.matchAll(engineValues, text, pattern, flagsValue)\n        .then(([data]) => {\n          setMatches(data.matches);\n          setError(data.error);\n        })\n        .catch((e) => {\n          setError(e);\n        })\n        .finally(() => {\n          setShowResults(true);\n        });\n    }\n  };\n\n  return <>\n    <main className=\"matcher-page\">\n      <h1>Regular Expression Pattern Matcher</h1>\n\n      <form method=\"post\" action={LocalPath.MATCH_ALL}>\n        <fieldset className=\"matcher-page__item\">\n          <legend className=\"matcher-page__item-title\">Engine</legend>\n          {Object.values(Engine).map((engine) => {\n            return (\n              <label key={engine.value} className=\"matcher-page__checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  name=\"engines\"\n                  value={engine.value}\n                  checked={engines.includes(engine)}\n                  onChange={() => onEnginesChange(engine)}\n                  disabled={engine.disabled}\n                />\n                {engine.title}\n              </label>\n            );\n          })}\n        </fieldset>\n\n        <div className=\"matcher-page__item\">\n          <label className=\"matcher-page__item-title\">Text</label>\n          <textarea\n            name=\"text\"\n            rows=\"3\"\n            value={text}\n            onChange={(evt) => setText(evt.currentTarget.value)}\n          />\n        </div>\n\n        <div className=\"matcher-page__item\">\n          <label htmlFor=\"matcher-pattern\" className=\"matcher-page__item-title\">Pattern (regular expression)</label>\n          <div className=\"matcher-page__pattern-inner\">\n            <input\n              id=\"matcher-pattern\"\n              type=\"text\"\n              name=\"pattern\"\n              value={pattern}\n              onChange={(evt) => setPattern(evt.currentTarget.value)}\n            />\n          </div>\n        </div>\n\n        <fieldset className=\"matcher-page__item\">\n          {Object.values(Flag).map((flag) => {\n            return (\n              <label key={flag.value} className=\"matcher-page__checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  name=\"flags\"\n                  value={flag.value}\n                  checked={flags.includes(flag)}\n                  onChange={() => onFlagsChange(flag)}\n                />\n                {flag.title} (/{flag.value})\n              </label>\n            );\n          })}\n        </fieldset>\n\n        <button type=\"submit\" onClick={onSubmitClick}>Match All</button>\n\n        {shouldShowResults && error && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">Error</span>\n            <span>{error.message}</span>\n          </div>\n        )}\n\n        {shouldShowResults && !error && matches.length === 0 && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">No matches found. Try to adjust your search...</span>\n          </div>\n        )}\n\n        {shouldShowResults && !error && matches.length > 0 && (\n          <div className=\"matcher-page__item\">\n            <span className=\"matcher-page__item-title\">Matches</span>\n            <ol>\n              {matches.map((match, matchIndex) => (\n                <li key={matchIndex}>&ldquo;{match[0]}&ldquo;</li>\n              ))}\n            </ol>\n          </div>\n        )}\n      </form>\n    </main>\n  </>;\n};\n\nexport {MatcherPage};\n","export const localMatchAll = (_, text, pattern, flagsValue) => {\n  try {\n    const regexp = new RegExp(pattern, flagsValue);\n    const it = text.matchAll(regexp);\n    return {matches: Array.from(it)};\n  } catch (e) {\n    return {error: e};\n  }\n};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst NotFoundPage = () => {\n  return <>\n    <main className=\"not-found-page\">\n      <h1>Страница не найдена</h1>\n      <Link className=\"page-link\" to={LocalPath.INDEX}>Вернуться на главную страницу</Link>\n    </main>\n  </>;\n};\n\nexport {NotFoundPage};\n","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport {MatcherPage} from '../matcher-page/matcher-page';\nimport {NotFoundPage} from '../not-found-page/not-found-page';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst App = () => {\n  return <>\n    <Switch>\n      <Route exact path={LocalPath.MATCHER}>\n        <MatcherPage/>\n      </Route>\n      <Route>\n        <NotFoundPage/>\n      </Route>\n    </Switch>\n  </>;\n};\n\nexport {App};\n","import React, {StrictMode} from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from 'react-router-dom';\n\nimport {App} from './components/app/app';\n\nimport './index.scss';\n\nReactDOM.render((\n  <StrictMode>\n    <Router>\n      <App/>\n    </Router>\n  </StrictMode>\n), document.querySelector(`#root`));\n\n"],"sourceRoot":""}