{"version":3,"sources":["shared/helpers/date-helpers.js","constants/local-path.js","constants/engine.js","shared/helpers/id-helpers.js","providers/match-provider.js","providers/engines-store.js","components/matcher-page/matcher-page.jsx","helpers/match-helpers.js","components/not-found-page/not-found-page.jsx","components/app/app.jsx","index.js"],"names":["module","exports","formatDate","date","getFullYear","toString","getMonth","padStart","getDate","formatTimestamp","withMilliseconds","getHours","getMinutes","getSeconds","getMilliseconds","formatTimespan","totalMilliseconds","milliseconds","Math","floor","totalSeconds","seconds","totalMinutes","minutes","formatTotalSeconds","LocalPath","INDEX","MATCHER","MATCH_ALL","Engine","BROWSER_JS","title","value","NODE_JS","PHP","PYTHON","RUBY","DOTNET","JVM","PCRE1","PCRE2","ENGINES","Object","values","findEngineByValue","engineValue","find","engine","nanoid","require","matchProvider","constructor","this","_client","axios","create","timeout","buildURL","endpoint","requestId","engineValues","text","pattern","flagsValue","data","request","method","url","params","enginesStore","storage","key","_storage","_key","getEngines","defaultEngines","JSON","parse","getItem","map","filter","Boolean","_error","setEngines","newEngines","setItem","stringify","localStorage","EMPTY_RESULTS","Flag","IGNORE_CASE","SINGLE_LINE","MULTILINE","UNICODE","createToggle","Enumeration","toggledItem","previousItems","shouldExclude","includes","item","submitMatchAll","async","localEngineValue","remoteEngineValues","results","result","patternValue","startDate","Date","regexp","RegExp","it","matchAll","Array","from","performance","matches","index","substring","exception","error","message","localMatchAll","push","length","remoteData","getSubstrings","afterMatchIndex","substrings","match","MatcherPage","engines","React","useState","setText","setPattern","flags","setFlags","setResults","setRequestId","requestIdRef","useRef","useEffect","className","action","type","name","checked","onChange","disabled","rows","evt","currentTarget","htmlFor","id","flag","onClick","preventDefault","localRequestId","isSafe","generateId","join","current","then","localResults","undefined","catch","subtitle","Number","isFinite","matchIndex","substringIndex","NotFoundPage","to","App","exact","path","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.e8c6542b.chunk.js","sourcesContent":["function formatDate(date) {\n  return date.getFullYear().toString(10)\n    + `-` + (date.getMonth() + 1).toString(10).padStart(2, `0`)\n    + `-` + date.getDate().toString(10).padStart(2, `0`);\n}\n\nfunction formatTimestamp(date, withMilliseconds) {\n  if (typeof (withMilliseconds) === `undefined`) {\n    withMilliseconds = true;\n  }\n  return date.getFullYear().toString(10)\n    + `-` + (date.getMonth() + 1).toString(10).padStart(2, `0`)\n    + `-` + date.getDate().toString(10).padStart(2, `0`)\n    + ` ` + date.getHours().toString(10).padStart(2, `0`)\n    + `:` + date.getMinutes().toString(10).padStart(2, `0`)\n    + `:` + date.getSeconds().toString(10).padStart(2, `0`)\n    + (withMilliseconds ? (`.` + date.getMilliseconds().toString(10).padStart(3, `0`)) : ``);\n}\n\nfunction formatTimespan(totalMilliseconds) {\n  const milliseconds = Math.floor(totalMilliseconds % 1000);\n  const totalSeconds = Math.floor(totalMilliseconds / 1000);\n  const seconds = totalSeconds % 60;\n  const totalMinutes = Math.floor(totalSeconds / 60);\n  const minutes = totalMinutes % 60;\n  const totalHours = Math.floor(totalMinutes / 60);\n\n  return totalHours.toString().padStart(2, 0)\n    + `:` + minutes.toString().padStart(2, 0)\n    + `:` + seconds.toString().padStart(2, 0)\n    + `.` + milliseconds.toString().padStart(3, 0);\n}\n\nfunction formatTotalSeconds(totalMilliseconds) {\n  const milliseconds = Math.floor(totalMilliseconds % 1000);\n  const totalSeconds = Math.floor(totalMilliseconds / 1000);\n\n  return totalSeconds.toString()\n    + `.` + milliseconds.toString().padStart(3, 0);\n}\n\nmodule.exports = {\n  formatDate,\n  formatTimestamp,\n  formatTimespan,\n  formatTotalSeconds,\n};\n","/** @enum */\nexport const LocalPath = {\n  INDEX: `/`,\n  MATCHER: `/`,\n  MATCH_ALL: `/match-all`\n};\n","/** @enum */\nconst Engine = {\n  BROWSER_JS: {\n    title: `JavaScript (browser)`,\n    value: `browser-js`,\n  },\n  NODE_JS: {\n    title: `JavaScript (node.js)`,\n    value: `node-js`,\n  },\n  PHP: {\n    title: `PHP`,\n    value: `php`,\n  },\n  PYTHON: {\n    title: `Python`,\n    value: `python`,\n  },\n  RUBY: {\n    title: `Ruby`,\n    value: `ruby`,\n  },\n  DOTNET: {\n    title: `.NET (C#)`,\n    value: `dotnet`,\n  },\n  JVM: {\n    title: `JVM (Kotlin)`,\n    value: `jvm`,\n  },\n  PCRE1: {\n    title: `PCRE1 (C++)`,\n    value: `pcre1`,\n  },\n  PCRE2: {\n    title: `PCRE2 (C++)`,\n    value: `pcre2`,\n  },\n};\n\nconst ENGINES = Object.values(Engine);\n\nconst findEngineByValue = (engineValue) => {\n  return Object.values(Engine).find((engine) => engine.value === engineValue);\n};\n\nexport {\n  Engine,\n  ENGINES,\n  findEngineByValue,\n};\n","const {nanoid} = require(`nanoid`);\n\nconst {formatTimestamp} = require(`./date-helpers`);\n\nconst generateId = ({isSafe = true}) => {\n  return isSafe\n    ? nanoid()\n    : formatTimestamp(new Date());\n};\n\nexport {\n  generateId,\n};\n","import axios from 'axios';\n\nconst REQUEST_TIMEOUT = 5000;\n\nclass MatchProvider {\n  constructor() {\n    this._client = axios.create({\n      timeout: REQUEST_TIMEOUT,\n    });\n  }\n\n  buildURL(endpoint) {\n    return `${process.env.REACT_APP_API_BASE_URL}/${endpoint}`;\n  }\n\n  /**\n   * @param {string} requestId\n   * @param {string[]} engineValues\n   * @param {string} text\n   * @param {string} pattern\n   * @param {string} flagsValue\n   * @return {Promise<{matches: string[], error: {message: string}}>}\n   */\n  async matchAll(requestId, engineValues, text, pattern, flagsValue) {\n    const {data} = await this._client.request({\n      method: `post`,\n      url: this.buildURL(`match-all`),\n      params: {\n        requestId,\n      },\n      data: {\n        engineValues,\n        text,\n        pattern,\n        flagsValue,\n      },\n    });\n    return data;\n  }\n}\n\nexport const matchProvider = new MatchProvider();\n","import {ENGINES, findEngineByValue} from 'constants/engine';\n\nconst ENGINES_STORE_KEY = `regexes__engines`;\n\nclass EnginesStore {\n  /**\n   * @param {Storage} storage\n   * @param {string} key\n   */\n  constructor(storage, key) {\n    this._storage = storage;\n    this._key = key;\n  }\n\n  /**\n   * @param {Engine[]} defaultEngines\n   * @return {Engine[]}\n   */\n  getEngines(defaultEngines = ENGINES) {\n    try {\n      const engineValues = JSON.parse(this._storage.getItem(this._key));\n      return engineValues\n        .map((engineValue) => findEngineByValue(engineValue))\n        .filter(Boolean) || defaultEngines;\n    } catch (_error) {\n      return defaultEngines;\n    }\n  }\n\n  /**\n   * @param {Engine[]} newEngines\n   * @return {boolean}\n   */\n  setEngines(newEngines) {\n    try {\n      const engineValues = newEngines.map((engine) => engine.value);\n      this._storage.setItem(this._key, JSON.stringify(engineValues));\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n}\n\nexport const enginesStore = new EnginesStore(localStorage, ENGINES_STORE_KEY);\n","import React from 'react';\n\nimport {LocalPath} from 'constants/local-path';\nimport {Engine, ENGINES, findEngineByValue} from 'constants/engine';\nimport {localMatchAll} from 'helpers/match-helpers';\nimport {generateId} from 'shared/helpers/id-helpers';\nimport {formatTotalSeconds} from 'shared/helpers/date-helpers';\nimport {matchProvider} from 'providers/match-provider';\nimport {enginesStore} from 'providers/engines-store';\n\nconst ALL_ENGINES_KEY = `all`;\nconst REMOTE_ENGINES_KEY = `remote`;\nconst EMPTY_RESULTS = [];\n\n/** @enum */\nconst Flag = {\n  IGNORE_CASE: {\n    title: `Ignore Case`,\n    value: `i`,\n  },\n  SINGLE_LINE: {\n    title: `Single Line`,\n    value: `s`,\n  },\n  MULTILINE: {\n    title: `Multiline`,\n    value: `m`,\n  },\n  UNICODE: {\n    title: `Unicode`,\n    value: `u`,\n  },\n};\n\nconst createToggle = (Enumeration, toggledItem) => {\n  return (previousItems) => {\n    const shouldExclude = previousItems.includes(toggledItem);\n\n    return Object.values(Enumeration).filter((item) => {\n      return shouldExclude\n        ? (previousItems.includes(item) && item !== toggledItem)\n        : (previousItems.includes(item) || item === toggledItem);\n    });\n  };\n};\n\nconst submitMatchAll = async (requestId, engineValues, text, pattern, flagsValue) => {\n  const localEngineValue = Engine.BROWSER_JS.value;\n  const remoteEngineValues = engineValues.filter((engineValue) => engineValue !== Engine.BROWSER_JS.value);\n\n  const results = [];\n  if (engineValues.includes(localEngineValue)) {\n    const result = localMatchAll(localEngineValue, text, pattern, flagsValue);\n    results.push(result);\n  }\n  if (remoteEngineValues.length > 0) {\n    try {\n      const remoteData = await matchProvider.matchAll(requestId, remoteEngineValues, text, pattern, flagsValue);\n      results.push(...remoteData.results);\n    } catch (exception) {\n      results.push({engineValue: REMOTE_ENGINES_KEY, error: {message: exception.message}});\n    }\n  }\n  return results;\n};\n\nconst getSubstrings = (text, matches) => {\n  if (matches.length === 0) {\n    return [text];\n  }\n  let afterMatchIndex = 0;\n  const substrings = [];\n  for (const match of matches) {\n    substrings.push(text.substring(afterMatchIndex, match.index), match.substring);\n    afterMatchIndex = match.index + match.substring.length;\n  }\n  substrings.push(text.substring(afterMatchIndex));\n  return substrings;\n};\n\nconst MatcherPage = () => {\n  const [engines, setEngines] = React.useState(ENGINES);\n  const [text, setText] = React.useState(``);\n  const [pattern, setPattern] = React.useState(``);\n  const [flags, setFlags] = React.useState([]);\n  const [results, setResults] = React.useState(EMPTY_RESULTS);\n  const [requestId, setRequestId] = React.useState();\n  const requestIdRef = React.useRef();\n\n  const onEnginesChange = (toggledEngine) => {\n    setEngines(createToggle(Engine, toggledEngine));\n  };\n\n  const onFlagsChange = (toggledFlag) => {\n    setFlags(createToggle(Flag, toggledFlag));\n  };\n\n  const onSubmitClick = (evt) => {\n    evt.preventDefault();\n\n    const localRequestId = generateId({isSafe: false});\n    const engineValues = engines.map((engine) => engine.value);\n    const flagsValue = flags.map((flag) => flag.value).join(``);\n\n    setRequestId(requestIdRef.current = localRequestId);\n    setResults(EMPTY_RESULTS);\n\n    submitMatchAll(localRequestId, engineValues, text, pattern, flagsValue)\n      .then((localResults) => {\n        if (requestIdRef.current === localRequestId) {\n          setResults(localResults);\n          setRequestId(requestIdRef.current = undefined);\n        }\n      })\n      .catch(() => {\n        if (requestIdRef.current === localRequestId) {\n          setRequestId(requestIdRef.current = undefined);\n        }\n      });\n  };\n\n  React.useEffect(() => {\n    setEngines(enginesStore.getEngines());\n  }, []);\n\n  React.useEffect(() => {\n    enginesStore.setEngines(engines);\n  }, [engines]);\n\n  React.useEffect(() => {\n    setResults(EMPTY_RESULTS);\n  }, [text, pattern, flags]);\n\n  return <>\n    <main className=\"matcher-page\">\n      <h1>Regular Expression Pattern Matcher</h1>\n\n      <div className=\"matcher-page__inner\">\n        <form method=\"post\" action={LocalPath.MATCH_ALL}>\n          <fieldset className=\"matcher-page__item\">\n            <legend className=\"matcher-page__item-title\">Engines</legend>\n            <div className=\"matcher-page__engines-inner\">\n              {Object.values(Engine).map((engine) => {\n                return (\n                  <label key={engine.value} className=\"matcher-page__checkbox-label\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"engines\"\n                      value={engine.value}\n                      checked={engines.includes(engine)}\n                      onChange={() => onEnginesChange(engine)}\n                      disabled={engine.disabled}\n                    />\n                    {engine.title}\n                  </label>\n                );\n              })}\n            </div>\n          </fieldset>\n\n          <div className=\"matcher-page__item\">\n            <label className=\"matcher-page__item-title\">Text</label>\n            <textarea\n              name=\"text\"\n              rows=\"3\"\n              value={text}\n              onChange={(evt) => setText(evt.currentTarget.value)}\n            />\n          </div>\n\n          <div className=\"matcher-page__item\">\n            <label htmlFor=\"matcher-pattern\" className=\"matcher-page__item-title\">Pattern (regular expression)</label>\n            <div className=\"matcher-page__pattern-inner\">\n              <input\n                id=\"matcher-pattern\"\n                type=\"text\"\n                name=\"pattern\"\n                value={pattern}\n                onChange={(evt) => setPattern(evt.currentTarget.value)}\n              />\n            </div>\n          </div>\n\n          <fieldset className=\"matcher-page__item\">\n            {Object.values(Flag).map((flag) => {\n              return (\n                <label key={flag.value} className=\"matcher-page__checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"flags\"\n                    value={flag.value}\n                    checked={flags.includes(flag)}\n                    onChange={() => onFlagsChange(flag)}\n                  />\n                  {flag.title} (/{flag.value})\n                </label>\n              );\n            })}\n          </fieldset>\n\n          <button\n            type=\"submit\"\n            disabled={engines.length === 0}\n            onClick={onSubmitClick}\n          >\n            Match All\n          </button>\n        </form>\n\n        <ul className=\"matcher-page__results\">\n          {engines.length === 0 && (\n            <li key={ALL_ENGINES_KEY} className=\"matcher-page__item\">\n              <span>No engines checked. Please select one...</span>\n            </li>\n          )}\n          {engines.length > 0 && results.length === 0 && (\n            <li key={ALL_ENGINES_KEY} className=\"matcher-page__item\">\n              {!requestId && <span>Click «Match All» button to receive results...</span>}\n              {requestId && <span>Evaluating...</span>}\n            </li>\n          )}\n          {results.length > 0 && results.map(({engineValue, performance, matches, error}) => {\n            let subtitle = ``;\n            if (error) {\n              subtitle = `Error`;\n            } else if (matches.length === 0) {\n              subtitle = `No matches found`;\n            } else {\n              subtitle = `Matches`;\n            }\n\n            const engine = findEngineByValue(engineValue);\n\n            return (\n              <li key={engineValue} className=\"matcher-page__item\">\n                <h2 className=\"matcher-page__item-title\">\n                  {engine ? engine.title : engineValue} - {subtitle}\n                  {Number.isFinite(performance) &&\n                  <span className=\"matcher-page__result-performance\"> (in {formatTotalSeconds(performance)}s)</span>}\n                </h2>\n                {error && <>\n                  <span>{error.message}</span>\n                </>}\n                {!error && matches.length > 0 && <>\n                  <ol>\n                    {matches.map((match, matchIndex) => (\n                      <li key={matchIndex}>&ldquo;{match.substring}&ldquo;</li>\n                    ))}\n                  </ol>\n                </>}\n                {!error && (\n                  <p className=\"matcher-page__text-with-matches\">\n                    {getSubstrings(text, matches).map((substring, substringIndex) => {\n                      return substringIndex % 2 === 1\n                        ? <b key={substringIndex}>{substring}</b>\n                        : <span key={substringIndex}>{substring}</span>;\n                    })}\n                  </p>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </main>\n  </>;\n};\n\nexport {MatcherPage};\n","export const localMatchAll = (engineValue, text, patternValue, flagsValue) => {\n  const startDate = new Date();\n  try {\n    const regexp = new RegExp(patternValue, `${flagsValue}g`);\n    const it = text.matchAll(regexp);\n    const results = Array.from(it);\n    return {\n      engineValue,\n      performance: new Date() - startDate,\n      matches: results.map((result) => ({\n        index: result.index,\n        substring: result[0],\n      })),\n    };\n  } catch (exception) {\n    return {\n      engineValue,\n      performance: new Date() - startDate,\n      error: {message: exception.message},\n    };\n  }\n};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst NotFoundPage = () => {\n  return <>\n    <main className=\"not-found-page\">\n      <h1>Страница не найдена</h1>\n      <Link className=\"page-link\" to={LocalPath.INDEX}>Вернуться на главную страницу</Link>\n    </main>\n  </>;\n};\n\nexport {NotFoundPage};\n","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport {MatcherPage} from '../matcher-page/matcher-page';\nimport {NotFoundPage} from '../not-found-page/not-found-page';\n\nimport {LocalPath} from '../../constants/local-path';\n\nconst App = () => {\n  return <>\n    <Switch>\n      <Route exact path={LocalPath.MATCHER}>\n        <MatcherPage/>\n      </Route>\n      <Route>\n        <NotFoundPage/>\n      </Route>\n    </Switch>\n  </>;\n};\n\nexport {App};\n","import React, {StrictMode} from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from 'react-router-dom';\n\nimport {App} from './components/app/app';\n\nimport './index.scss';\n\nReactDOM.render((\n  <StrictMode>\n    <Router>\n      <App/>\n    </Router>\n  </StrictMode>\n), document.querySelector(`#root`));\n\n"],"sourceRoot":""}